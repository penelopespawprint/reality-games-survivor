@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply antialiased;
  }

  body {
    @apply bg-cream-200 text-neutral-800 font-body;
  }
}

@layer components {
  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-lg font-semibold transition-all duration-200 text-sm;
  }

  .btn-primary {
    @apply bg-burgundy-500 hover:bg-burgundy-600 text-white shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply bg-white hover:bg-cream-100 text-neutral-700 border border-neutral-200;
  }

  .btn-outline {
    @apply bg-transparent border-2 border-burgundy-500 text-burgundy-500 hover:bg-burgundy-500 hover:text-white;
  }

  .btn-sm {
    @apply px-4 py-2 text-xs;
  }

  .btn-lg {
    @apply px-8 py-4 text-base;
  }

  /* Cards */
  .card {
    @apply bg-white rounded-2xl shadow-card p-6 transition-shadow duration-200;
  }

  .card-hover {
    @apply hover:shadow-card-hover cursor-pointer;
  }

  .card-elevated {
    @apply bg-white rounded-2xl shadow-elevated p-8;
  }

  /* Inputs */
  .input {
    @apply w-full px-4 py-3 bg-white border border-neutral-200 rounded-lg text-neutral-800 placeholder-neutral-400
           focus:outline-none focus:ring-2 focus:ring-burgundy-500/20 focus:border-burgundy-500 transition-all;
  }

  .input-error {
    @apply border-error-500 focus:ring-error-500/20 focus:border-error-500;
  }

  /* Select */
  .select {
    @apply w-full px-4 py-3 bg-white border border-neutral-200 rounded-lg text-neutral-800
           focus:outline-none focus:ring-2 focus:ring-burgundy-500/20 focus:border-burgundy-500 transition-all
           appearance-none cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.75rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
  }

  /* Toggle Switch */
  .toggle {
    @apply relative inline-flex h-6 w-11 items-center rounded-full transition-colors cursor-pointer;
  }

  .toggle-on {
    @apply bg-burgundy-500;
  }

  .toggle-off {
    @apply bg-neutral-200;
  }

  .toggle-knob {
    @apply inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm;
  }

  /* Table styles from Figma */
  .table-header {
    @apply bg-burgundy-500 text-white;
  }

  .table-header th {
    @apply px-4 py-3 text-left text-sm font-semibold;
  }

  .table-header th:first-child {
    @apply rounded-tl-lg;
  }

  .table-header th:last-child {
    @apply rounded-tr-lg;
  }

  .table-row {
    @apply bg-white border-b border-neutral-100 hover:bg-cream-50 transition-colors;
  }

  .table-row td {
    @apply px-4 py-3 text-sm;
  }

  /* Navigation */
  .nav-link {
    @apply text-neutral-600 hover:text-burgundy-500 font-medium transition-colors text-sm;
  }

  .nav-link-active {
    @apply text-burgundy-500 font-semibold;
  }

  /* Progress bars */
  .progress-bar {
    @apply h-2 bg-cream-300 rounded-full overflow-hidden;
  }

  .progress-fill {
    @apply h-full bg-burgundy-500 rounded-full transition-all duration-500;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply bg-green-100 text-green-700;
  }

  .badge-warning {
    @apply bg-amber-100 text-amber-700;
  }

  .badge-error {
    @apply bg-red-100 text-red-700;
  }

  .badge-neutral {
    @apply bg-neutral-100 text-neutral-600;
  }

  .badge-burgundy {
    @apply bg-burgundy-500/10 text-burgundy-500;
  }

  /* Avatar - matches Figma with burgundy ring option */
  .avatar {
    @apply rounded-full object-cover;
  }

  .avatar-ring {
    @apply ring-2 ring-burgundy-500 ring-offset-2;
  }

  .avatar-sm {
    @apply w-8 h-8;
  }

  .avatar-md {
    @apply w-10 h-10;
  }

  .avatar-lg {
    @apply w-12 h-12;
  }

  .avatar-xl {
    @apply w-16 h-16;
  }

  /* Castaway Card - matches Figma draft cards */
  .castaway-card {
    @apply bg-white rounded-xl shadow-card overflow-hidden transition-all hover:shadow-card-hover;
  }

  .castaway-card-selected {
    @apply ring-2 ring-burgundy-500 shadow-card-hover;
  }

  .castaway-card-image {
    @apply w-full aspect-square object-cover bg-cream-100;
  }

  .castaway-card-body {
    @apply p-4;
  }

  .castaway-card-name {
    @apply font-semibold text-neutral-800;
  }

  .castaway-card-meta {
    @apply text-xs text-neutral-500 mt-1;
  }

  .castaway-card-stats {
    @apply flex gap-4 mt-2 text-xs text-neutral-600;
  }

  /* Section headers */
  .section-title {
    @apply text-xl font-semibold text-neutral-800;
  }

  .section-subtitle {
    @apply text-neutral-500 text-sm mt-1;
  }

  /* Modal/Dialog backdrop */
  .modal-backdrop {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-40;
  }

  .modal-content {
    @apply fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl shadow-elevated z-50 max-w-md w-full mx-4;
  }

  /* Countdown timer */
  .countdown {
    @apply inline-flex items-center gap-1 text-burgundy-500 font-medium;
  }

  /* Week selector dropdown */
  .week-selector {
    @apply select px-3 py-2 text-sm bg-cream-100 border-cream-300;
  }

  /* Legend items */
  .legend-item {
    @apply flex items-center gap-2 text-xs text-neutral-600;
  }

  .legend-dot {
    @apply w-3 h-3 rounded-full;
  }

  /* Form sections */
  .form-section {
    @apply space-y-4;
  }

  .form-label {
    @apply block text-sm font-medium text-neutral-700 mb-1.5;
  }

  .form-helper {
    @apply text-xs text-neutral-500 mt-1;
  }

  /* Notification bell with badge */
  .notification-bell {
    @apply relative p-2 text-neutral-600 hover:text-neutral-800 transition-colors;
  }

  .notification-badge {
    @apply absolute -top-0.5 -right-0.5 w-4 h-4 bg-burgundy-500 text-white text-xs rounded-full flex items-center justify-center;
  }
}

/* Flame Animations */
@keyframes flame-flicker-outer {
  0%,
  100% {
    transform: scaleY(1) scaleX(1);
  }
  25% {
    transform: scaleY(1.02) scaleX(0.98);
  }
  50% {
    transform: scaleY(0.98) scaleX(1.02);
  }
  75% {
    transform: scaleY(1.01) scaleX(0.99);
  }
}

@keyframes flame-flicker-middle {
  0%,
  100% {
    transform: scaleY(1) scaleX(1) translateY(0);
  }
  33% {
    transform: scaleY(1.03) scaleX(0.97) translateY(-1px);
  }
  66% {
    transform: scaleY(0.97) scaleX(1.03) translateY(1px);
  }
}

@keyframes flame-flicker-inner {
  0%,
  100% {
    transform: scaleY(1) translateY(0);
    opacity: 1;
  }
  50% {
    transform: scaleY(1.05) translateY(-2px);
    opacity: 0.9;
  }
}

@keyframes ember-float {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    transform: translateY(-60px) translateX(20px) scale(0.3);
    opacity: 0;
  }
}

.animate-flame-outer {
  animation: flame-flicker-outer 0.5s ease-in-out infinite;
  transform-origin: center bottom;
}

.animate-flame-middle {
  animation: flame-flicker-middle 0.4s ease-in-out infinite;
  transform-origin: center bottom;
}

.animate-flame-inner {
  animation: flame-flicker-inner 0.3s ease-in-out infinite;
  transform-origin: center bottom;
}

.ember {
  animation: ember-float 3s ease-out infinite;
}

/* Scroll Snap for Block-Based Layout */
.snap-container {
  scroll-snap-type: y mandatory;
  overflow-y: scroll;
  height: 100vh;
  scroll-behavior: smooth;
}

.snap-section {
  scroll-snap-align: start;
  min-height: 100vh;
}

/* Hide scrollbar but keep functionality */
.snap-container::-webkit-scrollbar {
  width: 0;
  background: transparent;
}

.snap-container {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Interactive Block Hover Effects */
.interactive-block {
  @apply transition-all duration-500 cursor-pointer;
}

.interactive-block:hover {
  @apply shadow-2xl;
}

/* Glow border animation */
@keyframes glow-pulse {
  0%,
  100% {
    box-shadow: 0 0 20px rgba(165, 42, 42, 0.3);
  }
  50% {
    box-shadow: 0 0 40px rgba(165, 42, 42, 0.5);
  }
}

.glow-on-hover:hover {
  animation: glow-pulse 2s ease-in-out infinite;
}

/* Scroll indicator bounce */
@keyframes scroll-bounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(8px);
  }
}

.scroll-indicator {
  animation: scroll-bounce 2s ease-in-out infinite;
}

/* Radial gradient utility */
.bg-gradient-radial {
  background: radial-gradient(var(--tw-gradient-stops));
}

/* Parallax Performance Optimization */
.parallax-layer {
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Smooth transitions for scroll-based animations */
@media (prefers-reduced-motion: no-preference) {
  .parallax-layer {
    transition: transform 0.1s linear;
  }
}

/* Premium typography adjustments */
@layer utilities {
  .tracking-tight {
    letter-spacing: -0.025em;
  }

  .tracking-widest {
    letter-spacing: 0.2em;
  }

  .leading-tight {
    line-height: 1.1;
  }
}

/* Subtle text shadow for hero headlines */
.text-shadow-subtle {
  text-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
}

/* Premium focus states */
@layer components {
  .focus-premium:focus {
    @apply outline-none ring-2 ring-burgundy-500/30 ring-offset-2 ring-offset-cream-50;
  }
}

/* Trivia button pulse animation */
@keyframes trivia-pulse {
  0%,
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.4);
  }
  50% {
    transform: scale(1.02);
    box-shadow: 0 0 20px 5px rgba(139, 92, 246, 0.2);
  }
}

.trivia-pulse {
  animation: trivia-pulse 2s ease-in-out infinite;
}

/* Trivia shimmer effect */
@keyframes trivia-shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.trivia-shimmer {
  background: linear-gradient(
    90deg,
    #8b5cf6 0%,
    #a78bfa 25%,
    #c4b5fd 50%,
    #a78bfa 75%,
    #8b5cf6 100%
  );
  background-size: 200% 100%;
  animation: trivia-shimmer 3s linear infinite;
}

/* Smooth page transitions */
.page-transition-enter {
  opacity: 0;
  transform: translateY(20px);
}

.page-transition-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 0.5s ease-out,
    transform 0.5s ease-out;
}

/* Hide scrollbar for splash page while maintaining scroll functionality */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Quill Editor Customizations */
.ql-toolbar.ql-snow {
  border: none !important;
  border-bottom: 1px solid #e5e5e5 !important;
  background: #faf7f2;
  border-radius: 12px 12px 0 0;
}

.ql-container.ql-snow {
  border: none !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 16px;
}

.ql-editor {
  min-height: 400px;
  padding: 20px;
  line-height: 1.6;
}

.ql-editor:focus {
  outline: none;
}

.ql-snow .ql-picker-label {
  border: none !important;
}

.ql-snow .ql-picker-options {
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  border: 1px solid #e5e5e5;
}

.ql-toolbar.ql-snow .ql-formats {
  margin-right: 8px;
}

.ql-snow.ql-toolbar button:hover,
.ql-snow .ql-toolbar button:hover,
.ql-snow.ql-toolbar button:focus,
.ql-snow .ql-toolbar button:focus,
.ql-snow.ql-toolbar button.ql-active,
.ql-snow .ql-toolbar button.ql-active {
  color: #8b0000;
}

.ql-snow.ql-toolbar .ql-picker-label:hover,
.ql-snow .ql-toolbar .ql-picker-label:hover,
.ql-snow.ql-toolbar .ql-picker-label.ql-active,
.ql-snow .ql-toolbar .ql-picker-label.ql-active {
  color: #8b0000;
}

.ql-snow.ql-toolbar .ql-picker-item:hover,
.ql-snow .ql-toolbar .ql-picker-item:hover,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected {
  color: #8b0000;
}
